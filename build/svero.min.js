"use strict";function noop(){}function assign(t,e){for(const n in e)t[n]=e[n];return t}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return"function"==typeof t}function safe_not_equal(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function subscribe(t,e,n){const o=e.subscribe(n);t.$$.on_destroy.push(o.unsubscribe?()=>o.unsubscribe():o)}function create_slot(t,e,n){if(t){const o=get_slot_context(t,e,n);return t[0](o)}}function get_slot_context(t,e,n){return t[1]?assign({},assign(e.$$scope.ctx,t[1](n?n(e):{}))):e.$$scope.ctx}function get_slot_changes(t,e,n,o){return t[1]?assign({},assign(e.$$scope.changed||{},t[1](o?o(n):{}))):e.$$scope.changed||{}}function append(t,e){t.appendChild(e)}function insert(t,e,n){t.insertBefore(e,n||null)}function detach(t){t.parentNode.removeChild(t)}function element(t){return document.createElement(t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function empty(){return text("")}function listen(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function prevent_default(t){return function(e){return e.preventDefault(),t.call(this,e)}}function children(t){return Array.from(t.childNodes)}function set_data(t,e){e=""+e,t.data!==e&&(t.data=e)}function custom_event(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}let current_component;function set_current_component(t){current_component=t}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(t){get_current_component().$$.on_mount.push(t)}function onDestroy(t){get_current_component().$$.on_destroy.push(t)}function createEventDispatcher(){const t=current_component;return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=custom_event(e,n);o.slice().forEach(e=>{e.call(t,r)})}}}function setContext(t,e){get_current_component().$$.context.set(t,e)}function getContext(t){return get_current_component().$$.context.get(t)}Object.defineProperty(exports,"__esModule",{value:!0});const dirty_components=[],resolved_promise=Promise.resolve();let update_scheduled=!1;const binding_callbacks=[],render_callbacks=[],flush_callbacks=[];function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(t){render_callbacks.push(t)}function flush(){const t=new Set;do{for(;dirty_components.length;){const t=dirty_components.shift();set_current_component(t),update(t.$$)}for(;binding_callbacks.length;)binding_callbacks.shift()();for(;render_callbacks.length;){const e=render_callbacks.pop();t.has(e)||(e(),t.add(e))}}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1}function update(t){t.fragment&&(t.update(t.dirty),run_all(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(add_render_callback))}let outros;function group_outros(){outros={remaining:0,callbacks:[]}}function check_outros(){outros.remaining||run_all(outros.callbacks)}function on_outro(t){outros.callbacks.push(t)}function mount_component(t,e,n){const{fragment:o,on_mount:r,on_destroy:c,after_render:a}=t.$$;o.m(e,n),add_render_callback(()=>{const e=r.map(run).filter(is_function);c?c.push(...e):run_all(e),t.$$.on_mount=[]}),a.forEach(add_render_callback)}function destroy(t,e){t.$$&&(run_all(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function make_dirty(t,e){t.$$.dirty||(dirty_components.push(t),schedule_update(),t.$$.dirty=blank_object()),t.$$.dirty[e]=!0}function init(t,e,n,o,r,c){const a=current_component;set_current_component(t);const s=e.props||{},u=t.$$={fragment:null,ctx:null,props:c,update:noop,not_equal:r,bound:blank_object(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(a?a.$$.context:[]),callbacks:blank_object(),dirty:null};let i=!1;u.ctx=n?n(t,s,(e,n)=>{u.ctx&&r(u.ctx[e],u.ctx[e]=n)&&(u.bound[e]&&u.bound[e](n),i&&make_dirty(t,e))}):s,u.update(),i=!0,run_all(u.before_render),u.fragment=o(u.ctx),e.target&&(e.hydrate?u.fragment.l(children(e.target)):u.fragment.c(),e.intro&&t.$$.fragment.i&&t.$$.fragment.i(),mount_component(t,e.target,e.anchor),flush()),set_current_component(a)}class SvelteComponent{$destroy(){destroy(this,!0),this.$destroy=noop}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}var defaultExport=function(t){function e(e,n){var o="Unreachable '"+e+"', segment '"+n+"' is not defined";t.call(this,o),this.message=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);function buildMatcher(t,e){var n,o,r=-100,c=[];n=t.replace(/[-$.]/g,"\\$&").replace(/\(/g,"(?:").replace(/\)/g,")?").replace(/([:*]\w+)(?:<([^<>]+?)>)?/g,function(t,e,n){return c.push(e.substr(1)),":"===e.charAt()?(r+=100,"((?!#)"+(n||"[^/]+?")+")"):(o=!0,r+=500,"((?!#)"+(n||".+?")+")")});try{n=new RegExp("^"+n+"$")}catch(t){throw new TypeError("Invalid route expression, given '"+e+"'")}var a=t.includes("#")?.5:1,s=t.length*r*a;return{keys:c,regex:n,_depth:s,_isSplat:o}}var PathMatcher=function(t,e){var n=buildMatcher(t,e),o=n.keys,r=n.regex,c=n._depth;return{_isSplat:n._isSplat,_depth:c,match:function(t){var e=t.match(r);if(e)return o.reduce(function(t,n,o){return t[n]="string"==typeof e[o+1]?decodeURIComponent(e[o+1]):null,t},{})}}};function merge(t,e){return""+(e&&"/"!==e?e:"")+(t||"")}function walk(t,e){var n=t.match(/<[^<>]*\/[^<>]*>/);if(n)throw new TypeError("RegExp cannot contain slashes, given '"+n+"'");var o="/"!==t?t.split("/"):[""],r=[];o.some(function(t,n){var c=r.concat(t).join("/")||null,a=o.slice(n+1).join("/")||null,s=e("/"+t,c,a?(t?"/"+t:"")+"/"+a:null);return r.push(t),s})}function reduce(t,e,n){var o,r={},c=[];return walk(t,function(a,s,u){var i;if(!e.keys)throw new defaultExport(t,a);if(e.keys.some(function(t){if(n.includes(t))return!1;var l=e[t].pattern,f=l.match,p=l._isSplat,d=f(p&&u||a);return!!d&&(Object.assign(r,d),e[t].route&&c.push(Object.assign({},e[t].info,{matches:a===s||p||!u,params:Object.assign({},r),route:e[t].route,path:p?u:s||a})),null===u&&!e[t].keys||("/"!==t&&n.push(t),o=p,e=e[t],i=!0,!0))}),!i&&!e.keys.some(function(t){return e[t].pattern.match(a)}))throw new defaultExport(t,a);return o||!i}),c}function find(t,e,n){for(var o=reduce.bind(null,t,e),r=[];n>0;){n-=1;try{return o(r)}catch(t){if(n>0)return o(r);throw t}}}function add(t,e,n,o){var r=merge(t,n),c=e;return walk(r,function(t,e){c=PathMatcher.push(t,c,e,r),"/"!==t&&(c.info=c.info||Object.assign({},o))}),c.info=c.info||Object.assign({},o),r}function rm(t,e,n){var o=merge(t,n),r=e,c=null,a=null;if(walk(o,function(n){if(!r)return c=null,!0;if(a=n,!(c="/"===n?e["/"]:r).keys)throw new defaultExport(t,n);r=r[n]}),!c||!a)throw new defaultExport(t,a);delete c[a],"/"===a&&(delete c.info,delete c.route),-1!==c.keys.indexOf(a)&&(c.keys.splice(c.keys.indexOf(a),1),PathMatcher.sort(c))}PathMatcher.push=function(t,e,n,o){var r=e[t]||(e[t]={});return r.pattern||(r.pattern=new PathMatcher(t,o),r.route=n||"/"),e.keys=e.keys||[],e.keys.includes(t)||(e.keys.push(t),PathMatcher.sort(e)),r},PathMatcher.sort=function(t){t.keys.sort(function(e,n){return t[e].pattern._depth-t[n].pattern._depth})};var Router=function(){var t={},e=[];return{mount:function(t,n){"/"!==t&&e.push(t),n(),e.pop()},find:function(e,n){return find(e,t,!0===n?2:n||1)},add:function(n,o){return add(n,t,e.join(""),o)},rm:function(n){return rm(n,t,e.join(""))}}};function navigateTo(t){if(!t||"string"!=typeof t)throw Error(`svero expects navigateTo() to have a string parameter. The parameter provided was: ${t} of type ${typeof t} instead.`);if("/"!==t[0]&&"#"!==t[0])throw Error(`svero expects navigateTo() param to start with slash or hash, e.g. "/${t}" or "#${t}" instead of "${t}".`);history.pushState&&window.dispatchEvent?(history.pushState({},"",t),window.dispatchEvent(new Event("popstate"))):window.location.href=t}function writable(t,e=noop){let n;const o=[];function r(e){if(safe_not_equal(t,e)){if(t=e,!n)return;o.forEach(t=>t[1]()),o.forEach(e=>e[0](t))}}return{set:r,update:function(e){r(e(t))},subscribe:function(c,a=noop){const s=[c,a];return o.push(s),1===o.length&&(n=e(r)||noop),c(t),()=>{const t=o.indexOf(s);-1!==t&&o.splice(t,1),0===o.length&&n()}}}}function add_css(){var t=element("style");t.id="svelte-h7mijx-style",t.textContent=".ctx.svelte-h7mijx{display:none}",append(document.head,t)}function create_if_block_1(t){var e;return{c(){(e=element("div")).className="ctx svelte-h7mijx",e.dataset.svero="ctx"},m(t,n){insert(t,e,n)},d(t){t&&detach(e)}}}function create_if_block(t){var e,n,o,r,c,a,s;return{c(){e=element("fieldset"),n=element("legend"),o=text("Router failure: "),r=text(t.path),c=space(),a=element("pre"),s=text(t.failure)},m(t,u){insert(t,e,u),append(e,n),append(n,o),append(n,r),append(e,c),append(e,a),append(a,s)},p(t,e){t.path&&set_data(r,e.path),t.failure&&set_data(s,e.failure)},d(t){t&&detach(e)}}}function create_fragment(t){var e,n,o,r,c=!t.ctxLoaded&&create_if_block_1(t),a=t.failure&&!t.nofallback&&create_if_block(t);const s=t.$$slots.default,u=create_slot(s,t,null);return{c(){c&&c.c(),e=space(),a&&a.c(),n=space(),u&&u.c(),r=listen(window,"popstate",t.handlePopState)},l(t){u&&u.l(t)},m(t,r){c&&c.m(t,r),insert(t,e,r),a&&a.m(t,r),insert(t,n,r),u&&u.m(t,r),o=!0},p(t,o){o.ctxLoaded?c&&(c.d(1),c=null):c||((c=create_if_block_1(o)).c(),c.m(e.parentNode,e)),o.failure&&!o.nofallback?a?a.p(t,o):((a=create_if_block(o)).c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),u&&u.p&&t.$$scope&&u.p(get_slot_changes(s,o,t,null),get_slot_context(s,o,null))},i(t){o||(u&&u.i&&u.i(t),o=!0)},o(t){u&&u.o&&u.o(t),o=!1},d(t){c&&c.d(t),t&&detach(e),a&&a.d(t),t&&detach(n),u&&u.d(t),r()}}}const router=new Router;function cleanPath(t){return t.split("?")[0].replace(/(?!^)\/#/,"#").replace("/#","#").replace(/\/$/,"")}function fixPath(t){return"/#*"===t||"#*"===t?"#*_":"/*"===t||"*"===t?"/*_":t}function instance(t,e,n){let o,r,c,a,s,u=!1,{path:i="/",nofallback:l=null}=e;const f=writable({});function p(t){const e=t.reduce((t,e)=>(t[e.key]=Object.assign(t[e.key]||{},e.params),t),{});let n,r={};t.some(t=>{if("boolean"==typeof t.condition||"function"==typeof t.condition){if(!1===("function"==typeof t.condition?t.condition():t.condition)&&t.redirect)return navigateTo(t.redirect),n=!0,!0}if(t.key&&!r[t.key]){if(t.exact&&!t.matches)return!1;r[t.key]={...t,params:e[t.key]}}return!1}),n||(o=r,f.set(o))}function d(t,e){o[s]={failure:t,params:{_:e.substr(1)}},f.set(o)}function _(){const t=cleanPath(`/${location.href.split("/").slice(3).join("/")}`);try{const e=function(t){const e=t.split("#")[0].split("/"),n=[],o=[];return e.forEach(e=>{const r=n.concat(`/${e}`).join("");e&&n.push(`/${e}`);try{const e=router.find(r);p(e),o.push(...e)}catch(e){d(e,t)}}),o}(t);t.includes("#")&&p(e.concat(router.find(t)))}catch(e){if(!s)return void n("failure",a=e);d(e,t)}}function h(){clearTimeout(r),n("t",r=setTimeout(_,100))}subscribe(t,f,t=>{n("$routeInfo",o=t)}),onMount(()=>{n("ctx",c=document.querySelector('[data-svero="ctx"]').parentElement),n("ctxLoaded",u=!0),h()}),setContext("__svero__",{routeInfo:f,assignRoute:function(t,e,o){const r={key:t=t||Math.random().toString(36).substr(2),...o};let c;return router.mount(i,()=>{c=router.add(fixPath(e),r),n("fallback",s=r.fallback&&t||s)}),h(),[t,c]},unassignRoute:function(t){router.mount(i,()=>{router.rm(fixPath(t))}),h()}});let{$$slots:m={},$$scope:$}=e;return t.$set=(t=>{"path"in t&&n("path",i=t.path),"nofallback"in t&&n("nofallback",l=t.nofallback),"$$scope"in t&&n("$$scope",$=t.$$scope)}),{failure:a,ctxLoaded:u,path:i,nofallback:l,routeInfo:f,handlePopState:_,$$slots:m,$$scope:$}}class Router_1 extends SvelteComponent{constructor(t){super(),document.getElementById("svelte-h7mijx-style")||add_css(),init(this,t,instance,create_fragment,safe_not_equal,["path","nofallback"])}}const get_default_slot_changes=({router:t})=>({router:t}),get_default_slot_context=({router:t})=>({router:t});function create_if_block$1(t){var e,n,o,r,c=[create_if_block_1$1,create_else_block],a=[];function s(t){return t.component?0:1}return e=s(t),n=a[e]=c[e](t),{c(){n.c(),o=empty()},m(t,n){a[e].m(t,n),insert(t,o,n),r=!0},p(t,r){var u=e;(e=s(r))===u?a[e].p(t,r):(group_outros(),on_outro(()=>{a[u].d(1),a[u]=null}),n.o(1),check_outros(),(n=a[e])||(n=a[e]=c[e](r)).c(),n.i(1),n.m(o.parentNode,o))},i(t){r||(n&&n.i(),r=!0)},o(t){n&&n.o(),r=!1},d(t){a[e].d(t),t&&detach(o)}}}function create_else_block(t){var e;const n=t.$$slots.default,o=create_slot(n,t,get_default_slot_context);return{c(){o&&o.c()},l(t){o&&o.l(t)},m(t,n){o&&o.m(t,n),e=!0},p(t,e){o&&o.p&&(t.$$scope||t.router)&&o.p(get_slot_changes(n,e,t,get_default_slot_changes),get_slot_context(n,e,get_default_slot_context))},i(t){e||(o&&o.i&&o.i(t),e=!0)},o(t){o&&o.o&&o.o(t),e=!1},d(t){o&&o.d(t)}}}function create_if_block_1$1(t){var e,n,o=t.component;function r(t){return{props:{router:t.router}}}if(o)var c=new o(r(t));return{c(){c&&c.$$.fragment.c(),e=empty()},m(t,o){c&&mount_component(c,t,o),insert(t,e,o),n=!0},p(t,n){var a={};if(t.router&&(a.router=n.router),o!==(o=n.component)){if(c){group_outros();const t=c;on_outro(()=>{t.$destroy()}),t.$$.fragment.o(1),check_outros()}o?((c=new o(r(n))).$$.fragment.c(),c.$$.fragment.i(1),mount_component(c,e.parentNode,e)):c=null}else o&&c.$set(a)},i(t){n||(c&&c.$$.fragment.i(t),n=!0)},o(t){c&&c.$$.fragment.o(t),n=!1},d(t){t&&detach(e),c&&c.$destroy(t)}}}function create_fragment$1(t){var e,n,o=t.router&&create_if_block$1(t);return{c(){o&&o.c(),e=empty()},m(t,r){o&&o.m(t,r),insert(t,e,r),n=!0},p(t,n){n.router?o?(o.p(t,n),o.i(1)):((o=create_if_block$1(n)).c(),o.i(1),o.m(e.parentNode,e)):o&&(group_outros(),on_outro(()=>{o.d(1),o=null}),o.o(1),check_outros())},i(t){n||(o&&o.i(),n=!0)},o(t){o&&o.o(),n=!1},d(t){o&&o.d(t),t&&detach(e)}}}function instance$1(t,e,n){let o;const{assignRoute:r,unassignRoute:c,routeInfo:a}=getContext("__svero__");subscribe(t,a,t=>{n("$routeInfo",o=t)});let s,{key:u=null,path:i="",exact:l,fallback:f,component:p,condition:d,redirect:_}=e;onMount(()=>{[u,s]=r(u,i,{condition:d,redirect:_,fallback:f,exact:l}),n("key",u),n("fullpath",s)}),onDestroy(()=>{c(s)});let h,{$$slots:m={},$$scope:$}=e;return t.$set=(t=>{"key"in t&&n("key",u=t.key),"path"in t&&n("path",i=t.path),"exact"in t&&n("exact",l=t.exact),"fallback"in t&&n("fallback",f=t.fallback),"component"in t&&n("component",p=t.component),"condition"in t&&n("condition",d=t.condition),"redirect"in t&&n("redirect",_=t.redirect),"$$scope"in t&&n("$$scope",$=t.$$scope)}),t.$$.update=((t={$routeInfo:1,key:1})=>{(t.$routeInfo||t.key)&&n("router",h=o[u])}),{routeInfo:a,key:u,path:i,exact:l,fallback:f,component:p,condition:d,redirect:_,router:h,$$slots:m,$$scope:$}}class Route extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$1,safe_not_equal,["key","path","exact","fallback","component","condition","redirect"])}}function create_fragment$2(t){var e,n,o;const r=t.$$slots.default,c=create_slot(r,t,null);return{c(){e=element("a"),c&&c.c(),e.href=t.href,e.className=t.className,o=listen(e,"click",prevent_default(t.onClick))},l(t){c&&c.l(a_nodes)},m(t,o){insert(t,e,o),c&&c.m(e,null),n=!0},p(t,o){c&&c.p&&t.$$scope&&c.p(get_slot_changes(r,o,t,null),get_slot_context(r,o,null)),n&&!t.href||(e.href=o.href),n&&!t.className||(e.className=o.className)},i(t){n||(c&&c.i&&c.i(t),n=!0)},o(t){c&&c.o&&c.o(t),n=!1},d(t){t&&detach(e),c&&c.d(t),o()}}}function instance$2(t,e,n){let{class:o="",href:r="/",className:c=""}=e;onMount(()=>{n("className",c=c||o)});const a=createEventDispatcher();let{$$slots:s={},$$scope:u}=e;return t.$set=(t=>{"class"in t&&n("cssClass",o=t.class),"href"in t&&n("href",r=t.href),"className"in t&&n("className",c=t.className),"$$scope"in t&&n("$$scope",u=t.$$scope)}),{cssClass:o,href:r,className:c,onClick:function(t){let e=r;"/"!==e.charAt()&&(e=window.location.pathname+e),navigateTo(e),a("click",t)},$$slots:s,$$scope:u}}class Link extends SvelteComponent{constructor(t){super(),init(this,t,instance$2,create_fragment$2,safe_not_equal,["class","href","className"])}}exports.Router=Router_1,exports.Route=Route,exports.Link=Link,exports.navigateTo=navigateTo;
