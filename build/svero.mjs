function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function c(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n,e){const o=n.subscribe(e);t.$$.on_destroy.push(o.unsubscribe?()=>o.unsubscribe():o)}function i(t,n,e){if(t){const o=u(t,n,e);return t[0](o)}}function u(t,e,o){return t[1]?n({},n(e.$$scope.ctx,t[1](o?o(e):{}))):e.$$scope.ctx}function l(t,e,o,r){return t[1]?n({},n(e.$$scope.changed||{},t[1](r?r(o):{}))):e.$$scope.changed||{}}function f(t,n){t.appendChild(n)}function p(t,n,e){t.insertBefore(n,e||null)}function d(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function m(){return h(" ")}function y(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function v(t,n){n=""+n,t.data!==n&&(t.data=n)}let g;function k(t){g=t}function x(){if(!g)throw new Error("Function called outside component initialization");return g}function b(t){x().$$.on_mount.push(t)}function _(){const t=g;return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,r)})}}}const w=[],E=Promise.resolve();let j=!1;const N=[],O=[],I=[];function S(t){O.push(t)}function C(){const t=new Set;do{for(;w.length;){const t=w.shift();k(t),R(t.$$)}for(;N.length;)N.shift()();for(;O.length;){const n=O.pop();t.has(n)||(n(),t.add(n))}}while(w.length);for(;I.length;)I.pop()();j=!1}function R(t){t.fragment&&(t.update(t.dirty),r(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(S))}let T;function L(t,n){t.$$.dirty||(w.push(t),j||(j=!0,E.then(C)),t.$$.dirty=o()),t.$$.dirty[n]=!0}function A(n,s,a,i,u,l){const f=g;k(n);const p=s.props||{},d=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:u,bound:o(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(f?f.$$.context:[]),callbacks:o(),dirty:null};let $=!1;d.ctx=a?a(n,p,(t,e)=>{d.ctx&&u(d.ctx[t],d.ctx[t]=e)&&(d.bound[t]&&d.bound[t](e),$&&L(n,t))}):p,d.update(),$=!0,r(d.before_render),d.fragment=i(d.ctx),s.target&&(s.hydrate?d.fragment.l(function(t){return Array.from(t.childNodes)}(s.target)):d.fragment.c(),s.intro&&n.$$.fragment.i&&n.$$.fragment.i(),function(t,n,o){const{fragment:s,on_mount:a,on_destroy:i,after_render:u}=t.$$;s.m(n,o),S(()=>{const n=a.map(e).filter(c);i?i.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(S)}(n,s.target,s.anchor),C()),k(f)}class P{$destroy(){var n,e;e=!0,(n=this).$$&&(r(n.$$.on_destroy),n.$$.fragment.d(e),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={}),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}var q=function(t){function n(n,e){var o="Unreachable '"+n+"', segment '"+e+"' is not defined";t.call(this,o),this.message=o}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(Error);var B=function(t,n){var e=function(t,n){var e,o,r=-100,c=[];e=t.replace(/[-$.]/g,"\\$&").replace(/\(/g,"(?:").replace(/\)/g,")?").replace(/([:*]\w+)(?:<([^<>]+?)>)?/g,function(t,n,e){return c.push(n.substr(1)),":"===n.charAt()?(r+=100,"((?!#)"+(e||"[^/]+?")+")"):(o=!0,r+=500,"((?!#)"+(e||".+?")+")")});try{e=new RegExp("^"+e+"$")}catch(t){throw new TypeError("Invalid route expression, given '"+n+"'")}var s=t.includes("#")?.5:1,a=t.length*r*s;return{keys:c,regex:e,_depth:a,_isSplat:o}}(t,n),o=e.keys,r=e.regex,c=e._depth;return{_isSplat:e._isSplat,_depth:c,match:function(t){var n=t.match(r);if(n)return o.reduce(function(t,e,o){return t[e]="string"==typeof n[o+1]?decodeURIComponent(n[o+1]):null,t},{})}}};function M(t,n){return""+(n&&"/"!==n?n:"")+(t||"")}function U(t,n){var e=t.match(/<[^<>]*\/[^<>]*>/);if(e)throw new TypeError("RegExp cannot contain slashes, given '"+e+"'");var o="/"!==t?t.split("/"):[""],r=[];o.some(function(t,e){var c=r.concat(t).join("/")||null,s=o.slice(e+1).join("/")||null,a=n("/"+t,c,s?(t?"/"+t:"")+"/"+s:null);return r.push(t),a})}function z(t,n,e){for(var o=function(t,n,e){var o,r={},c=[];return U(t,function(s,a,i){var u;if(!n.keys)throw new q(t,s);if(n.keys.some(function(t){if(e.includes(t))return!1;var l=n[t].pattern,f=l.match,p=l._isSplat,d=f(p&&i||s);return!!d&&(Object.assign(r,d),n[t].route&&c.push(Object.assign({},n[t].info,{matches:s===a||p||!i,params:Object.assign({},r),route:n[t].route,path:p?i:a||s})),null===i&&!n[t].keys||("/"!==t&&e.push(t),o=p,n=n[t],u=!0,!0))}),!u&&!n.keys.some(function(t){return n[t].pattern.match(s)}))throw new q(t,s);return o||!u}),c}.bind(null,t,n),r=[];e>0;){e-=1;try{return o(r)}catch(t){if(e>0)return o(r);throw t}}}B.push=function(t,n,e,o){var r=n[t]||(n[t]={});return r.pattern||(r.pattern=new B(t,o),r.route=e||"/"),n.keys=n.keys||[],n.keys.includes(t)||(n.keys.push(t),B.sort(n)),r},B.sort=function(t){t.keys.sort(function(n,e){return t[n].pattern._depth-t[e].pattern._depth})};function D(t){if(!t||"string"!=typeof t)throw Error(`svero expects navigateTo() to have a string parameter. The parameter provided was: ${t} of type ${typeof t} instead.`);if("/"!==t[0]&&"#"!==t[0])throw Error(`svero expects navigateTo() param to start with slash or hash, e.g. "/${t}" or "#${t}" instead of "${t}".`);history.pushState&&window.dispatchEvent?(history.pushState({},"",t),window.dispatchEvent(new Event("popstate"))):window.location.href=t}function F(t){var n,e,o,r,c,s,a;return{c(){n=$("fieldset"),e=$("legend"),o=h("Router failure: "),r=h(t.path),c=m(),s=$("pre"),a=h(t.failure)},m(t,i){p(t,n,i),f(n,e),f(e,o),f(e,r),f(n,c),f(n,s),f(s,a)},p(t,n){t.path&&v(r,n.path),t.failure&&v(a,n.failure)},d(t){t&&d(n)}}}function G(t){var n,e,o,r=t.failure&&!t.nofallback&&F(t);const c=t.$$slots.default,s=i(c,t,null);return{c(){r&&r.c(),n=m(),s&&s.c(),o=y(window,"popstate",t.handlePopState)},l(t){s&&s.l(t)},m(t,o){r&&r.m(t,o),p(t,n,o),s&&s.m(t,o),e=!0},p(t,e){e.failure&&!e.nofallback?r?r.p(t,e):((r=F(e)).c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null),s&&s.p&&t.$$scope&&s.p(l(c,e,t,null),u(c,e,null))},i(t){e||(s&&s.i&&s.i(t),e=!0)},o(t){s&&s.o&&s.o(t),e=!1},d(t){r&&r.d(t),t&&d(n),s&&s.d(t),o()}}}const H=new function(){var t={},n=[];return{mount:function(t,e){"/"!==t&&n.push(t),e(),n.pop()},find:function(n,e){return z(n,t,!0===e?2:e||1)},add:function(e,o){return function(t,n,e,o){var r=M(t,e),c=n;return U(r,function(t,n){c=B.push(t,c,n,r),"/"!==t&&(c.info=c.info||Object.assign({},o))}),c.info=c.info||Object.assign({},o),r}(e,t,n.join(""),o)},rm:function(e){return function(t,n,e){var o=M(t,e),r=n,c=null,s=null;if(U(o,function(e){if(!r)return c=null,!0;if(s=e,!(c="/"===e?n["/"]:r).keys)throw new q(t,e);r=r[e]}),!c||!s)throw new q(t,s);delete c[s],"/"===s&&(delete c.info,delete c.route),-1!==c.keys.indexOf(s)&&(c.keys.splice(c.keys.indexOf(s),1),B.sort(c))}(e,t,n.join(""))}}};function J(t){return"/#*"===t||"#*"===t?"#*_":"/*"===t||"*"===t?"/*_":t}function K(n,e,o){let r,c,i,u,{path:l="/",nofallback:f=null}=e;const p=function(n,e=t){let o;const r=[];function c(t){if(s(n,t)){if(n=t,!o)return;r.forEach(t=>t[1]()),r.forEach(t=>t[0](n))}}return{set:c,update:function(t){c(t(n))},subscribe:function(s,a=t){const i=[s,a];return r.push(i),1===r.length&&(o=e(c)||t),s(n),()=>{const t=r.indexOf(i);-1!==t&&r.splice(t,1),0===r.length&&o()}}}}({});function d(t){const n=t.reduce((t,n)=>(t[n.key]=Object.assign(t[n.key]||{},n.params),t),{});let e,o={};t.some(t=>{if("boolean"==typeof t.condition||"function"==typeof t.condition){if(!1===("function"==typeof t.condition?t.condition():t.condition)&&t.redirect)return D(t.redirect),e=!0,!0}if(t.key&&!o[t.key]){if(t.exact&&!t.matches)return!1;o[t.key]={...t,params:n[t.key]}}return!1}),e||(r=o,p.set(r))}function $(t,n){r[u]={failure:t,params:{_:n.substr(1)}},p.set(r)}function h(){const t=`/${location.href.split("/").slice(3).join("/")}`.replace(/\?[^#]*/,"").replace(/(?!^)\/#/,"#").replace("/#","#").replace(/\/$/,"");try{const n=function(t){const n=t.split("#")[0].split("/"),e=[],o=[];return n.forEach(n=>{const r=e.concat(`/${n}`).join("");n&&e.push(`/${n}`);try{const n=H.find(r);d(n),o.push(...n)}catch(n){$(n,t)}}),o}(t);t.includes("#")&&d(n.concat(H.find(t)))}catch(n){if(!u)return void o("failure",i=n);$(n,t)}}function m(){clearTimeout(c),c=setTimeout(h,100)}var y,v;a(n,p,t=>{o("$routeInfo",r=t)}),b(()=>{m()}),y="__svero__",v={routeInfo:p,assignRoute:function(t,n,e){const o={key:t=t||Math.random().toString(36).substr(2),...e};let r;return H.mount(l,()=>{r=H.add(J(n),o),u=o.fallback&&t||u}),m(),[t,r]},unassignRoute:function(t){H.mount(l,()=>{H.rm(J(t))}),m()}},x().$$.context.set(y,v);let{$$slots:g={},$$scope:k}=e;return n.$set=t=>{"path"in t&&o("path",l=t.path),"nofallback"in t&&o("nofallback",f=t.nofallback),"$$scope"in t&&o("$$scope",k=t.$$scope)},{failure:i,path:l,nofallback:f,routeInfo:p,handlePopState:h,$$slots:g,$$scope:k}}class Q extends P{constructor(t){super(),A(this,t,K,G,s,["path","nofallback"])}}const V=({router:t})=>({router:t}),W=({router:t})=>({router:t});function X(t){var n;return{c(){(n=$("div")).className="ctx svelte-h7mijx",n.dataset.svero="ctx"},m(t,e){p(t,n,e)},d(t){t&&d(n)}}}function Y(t){var n;const e=t.$$slots.default,o=i(e,t,W);return{c(){o&&o.c()},l(t){o&&o.l(t)},m(t,e){o&&o.m(t,e),n=!0},p(t,n){o&&o.p&&(t.$$scope||t.router)&&o.p(l(e,n,t,V),u(e,n,W))},i(t){n||(o&&o.i&&o.i(t),n=!0)},o(t){o&&o.o&&o.o(t),n=!1},d(t){o&&o.d(t)}}}function Z(t){var n,e,o,c=!t.ctxLoaded&&X(),s=t.router&&!t.component&&Y(t);return{c(){c&&c.c(),n=m(),s&&s.c(),e=h("")},m(t,r){c&&c.m(t,r),p(t,n,r),s&&s.m(t,r),p(t,e,r),o=!0},p(t,o){var a;o.ctxLoaded?c&&(c.d(1),c=null):c||((c=X()).c(),c.m(n.parentNode,n)),o.router&&!o.component?s?(s.p(t,o),s.i(1)):((s=Y(o)).c(),s.i(1),s.m(e.parentNode,e)):s&&(a=()=>{s.d(1),s=null},(T={remaining:0,callbacks:[]}).callbacks.push(a),s.o(1),T.remaining||r(T.callbacks))},i(t){o||(s&&s.i(),o=!0)},o(t){s&&s.o(),o=!1},d(t){c&&c.d(t),t&&d(n),s&&s.d(t),t&&d(e)}}}function tt(t,n,e){let o;const{assignRoute:r,unassignRoute:c,routeInfo:s}=function(t){return x().$$.context.get(t)}("__svero__");a(t,s,t=>{e("$routeInfo",o=t)});let i,u,l,f,{key:p=null,path:d="",exact:$,fallback:h,component:m,condition:y,redirect:v}=n;var g;b(()=>{[p,l]=r(p,d,{condition:y,redirect:v,fallback:h,exact:$}),e("key",p),e("ctx",i=document.querySelector('[data-svero="ctx"]').parentElement),e("ctxLoaded",u=!0)}),g=()=>{c(l)},x().$$.on_destroy.push(g);let k,{$$slots:_={},$$scope:w}=n;return t.$set=t=>{"key"in t&&e("key",p=t.key),"path"in t&&e("path",d=t.path),"exact"in t&&e("exact",$=t.exact),"fallback"in t&&e("fallback",h=t.fallback),"component"in t&&e("component",m=t.component),"condition"in t&&e("condition",y=t.condition),"redirect"in t&&e("redirect",v=t.redirect),"$$scope"in t&&e("$$scope",w=t.$$scope)},t.$$.update=(t={$routeInfo:1,key:1,router:1,component:1,current:1,ctx:1})=>{(t.$routeInfo||t.key)&&e("router",k=o[p]),(t.router||t.component||t.current)&&!k&&m&&f&&f.$destroy&&(f.$destroy(),e("current",f=null)),(t.ctx||t.router||t.component)&&i&&k&&m&&e("current",f=new m({target:i,props:{router:k}}))},{routeInfo:s,key:p,path:d,exact:$,fallback:h,component:m,condition:y,redirect:v,ctxLoaded:u,router:k,$$slots:_,$$scope:w}}class nt extends P{constructor(t){var n;super(),document.getElementById("svelte-h7mijx-style")||((n=$("style")).id="svelte-h7mijx-style",n.textContent=".ctx.svelte-h7mijx{display:none}",f(document.head,n)),A(this,t,tt,Z,s,["key","path","exact","fallback","component","condition","redirect"])}}function et(t){var n,e,o;const r=t.$$slots.default,c=i(r,t,null);return{c(){var e;n=$("a"),c&&c.c(),n.href=t.href,n.className=t.className,o=y(n,"click",(e=t.onClick,function(t){return t.preventDefault(),e.call(this,t)}))},l(t){c&&c.l(a_nodes)},m(t,o){p(t,n,o),c&&c.m(n,null),e=!0},p(t,o){c&&c.p&&t.$$scope&&c.p(l(r,o,t,null),u(r,o,null)),e&&!t.href||(n.href=o.href),e&&!t.className||(n.className=o.className)},i(t){e||(c&&c.i&&c.i(t),e=!0)},o(t){c&&c.o&&c.o(t),e=!1},d(t){t&&d(n),c&&c.d(t),o()}}}function ot(t,n,e){let{class:o="",href:r="/",className:c=""}=n;b(()=>{e("className",c=c||o)});const s=_();let{$$slots:a={},$$scope:i}=n;return t.$set=t=>{"class"in t&&e("cssClass",o=t.class),"href"in t&&e("href",r=t.href),"className"in t&&e("className",c=t.className),"$$scope"in t&&e("$$scope",i=t.$$scope)},{cssClass:o,href:r,className:c,onClick:function(t){let n=r;"/"!==n.charAt()&&(n=window.location.pathname+n),D(n),s("click",t)},$$slots:a,$$scope:i}}class rt extends P{constructor(t){super(),A(this,t,ot,et,s,["class","href","className"])}}export{rt as Link,nt as Route,Q as Router,D as navigateTo};
