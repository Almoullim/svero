function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function c(t){return"function"==typeof t}function a(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t,n,e){const o=n.subscribe(e);t.$$.on_destroy.push(o.unsubscribe?()=>o.unsubscribe():o)}function i(t,n,e){if(t){const o=u(t,n,e);return t[0](o)}}function u(t,e,o){return t[1]?n({},n(e.$$scope.ctx,t[1](o?o(e):{}))):e.$$scope.ctx}function l(t,e,o,r){return t[1]?n({},n(e.$$scope.changed||{},t[1](r?r(o):{}))):e.$$scope.changed||{}}function f(t,n){t.appendChild(n)}function p(t,n,e){t.insertBefore(n,e||null)}function d(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function m(){return h(" ")}function y(){return h("")}function v(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function g(t,n){n=""+n,t.data!==n&&(t.data=n)}let k;function b(t){k=t}function x(){if(!k)throw new Error("Function called outside component initialization");return k}function _(t){x().$$.on_mount.push(t)}function w(){const t=k;return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,r)})}}}const E=[],N=Promise.resolve();let j=!1;const O=[],I=[],S=[];function C(t){I.push(t)}function R(){const t=new Set;do{for(;E.length;){const t=E.shift();b(t),T(t.$$)}for(;O.length;)O.shift()();for(;I.length;){const n=I.pop();t.has(n)||(n(),t.add(n))}}while(E.length);for(;S.length;)S.pop()();j=!1}function T(t){t.fragment&&(t.update(t.dirty),r(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(C))}let L;function A(){L={remaining:0,callbacks:[]}}function P(){L.remaining||r(L.callbacks)}function q(t){L.callbacks.push(t)}function B(t,n,o){const{fragment:a,on_mount:s,on_destroy:i,after_render:u}=t.$$;a.m(n,o),C(()=>{const n=s.map(e).filter(c);i?i.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(C)}function M(t,n){t.$$.dirty||(E.push(t),j||(j=!0,N.then(R)),t.$$.dirty=o()),t.$$.dirty[n]=!0}function U(n,e,c,a,s,i){const u=k;b(n);const l=e.props||{},f=n.$$={fragment:null,ctx:null,props:i,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:null};let p=!1;f.ctx=c?c(n,l,(t,e)=>{f.ctx&&s(f.ctx[t],f.ctx[t]=e)&&(f.bound[t]&&f.bound[t](e),p&&M(n,t))}):l,f.update(),p=!0,r(f.before_render),f.fragment=a(f.ctx),e.target&&(e.hydrate?f.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):f.fragment.c(),e.intro&&n.$$.fragment.i&&n.$$.fragment.i(),B(n,e.target,e.anchor),R()),b(u)}class z{$destroy(){var n,e;e=!0,(n=this).$$&&(r(n.$$.on_destroy),n.$$.fragment.d(e),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={}),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}var D=function(t){function n(n,e){var o="Unreachable '"+n+"', segment '"+e+"' is not defined";t.call(this,o),this.message=o}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(Error);var F=function(t,n){var e=function(t,n){var e,o,r=-100,c=[];e=t.replace(/[-$.]/g,"\\$&").replace(/\(/g,"(?:").replace(/\)/g,")?").replace(/([:*]\w+)(?:<([^<>]+?)>)?/g,function(t,n,e){return c.push(n.substr(1)),":"===n.charAt()?(r+=100,"((?!#)"+(e||"[^/]+?")+")"):(o=!0,r+=500,"((?!#)"+(e||".+?")+")")});try{e=new RegExp("^"+e+"$")}catch(t){throw new TypeError("Invalid route expression, given '"+n+"'")}var a=t.includes("#")?.5:1,s=t.length*r*a;return{keys:c,regex:e,_depth:s,_isSplat:o}}(t,n),o=e.keys,r=e.regex,c=e._depth;return{_isSplat:e._isSplat,_depth:c,match:function(t){var n=t.match(r);if(n)return o.reduce(function(t,e,o){return t[e]="string"==typeof n[o+1]?decodeURIComponent(n[o+1]):null,t},{})}}};function G(t,n){return""+(n&&"/"!==n?n:"")+(t||"")}function H(t,n){var e=t.match(/<[^<>]*\/[^<>]*>/);if(e)throw new TypeError("RegExp cannot contain slashes, given '"+e+"'");var o="/"!==t?t.split("/"):[""],r=[];o.some(function(t,e){var c=r.concat(t).join("/")||null,a=o.slice(e+1).join("/")||null,s=n("/"+t,c,a?(t?"/"+t:"")+"/"+a:null);return r.push(t),s})}function J(t,n,e){for(var o=function(t,n,e){var o,r={},c=[];return H(t,function(a,s,i){var u;if(!n.keys)throw new D(t,a);if(n.keys.some(function(t){if(e.includes(t))return!1;var l=n[t].pattern,f=l.match,p=l._isSplat,d=f(p&&i||a);return!!d&&(Object.assign(r,d),n[t].route&&c.push(Object.assign({},n[t].info,{matches:a===s||p||!i,params:Object.assign({},r),route:n[t].route,path:p?i:s||a})),null===i&&!n[t].keys||("/"!==t&&e.push(t),o=p,n=n[t],u=!0,!0))}),!u&&!n.keys.some(function(t){return n[t].pattern.match(a)}))throw new D(t,a);return o||!u}),c}.bind(null,t,n),r=[];e>0;){e-=1;try{return o(r)}catch(t){if(e>0)return o(r);throw t}}}F.push=function(t,n,e,o){var r=n[t]||(n[t]={});return r.pattern||(r.pattern=new F(t,o),r.route=e||"/"),n.keys=n.keys||[],n.keys.includes(t)||(n.keys.push(t),F.sort(n)),r},F.sort=function(t){t.keys.sort(function(n,e){return t[n].pattern._depth-t[e].pattern._depth})};function K(t){if(!t||"string"!=typeof t)throw Error(`svero expects navigateTo() to have a string parameter. The parameter provided was: ${t} of type ${typeof t} instead.`);if("/"!==t[0]&&"#"!==t[0])throw Error(`svero expects navigateTo() param to start with slash or hash, e.g. "/${t}" or "#${t}" instead of "${t}".`);history.pushState&&window.dispatchEvent?(history.pushState({},"",t),window.dispatchEvent(new Event("popstate"))):window.location.href=t}function Q(t){var n;return{c(){(n=$("div")).className="ctx svelte-h7mijx",n.dataset.svero="ctx"},m(t,e){p(t,n,e)},d(t){t&&d(n)}}}function V(t){var n,e,o,r,c,a,s;return{c(){n=$("fieldset"),e=$("legend"),o=h("Router failure: "),r=h(t.path),c=m(),a=$("pre"),s=h(t.failure)},m(t,i){p(t,n,i),f(n,e),f(e,o),f(e,r),f(n,c),f(n,a),f(a,s)},p(t,n){t.path&&g(r,n.path),t.failure&&g(s,n.failure)},d(t){t&&d(n)}}}function W(t){var n,e,o,r,c=!t.ctxLoaded&&Q(),a=t.failure&&!t.nofallback&&V(t);const s=t.$$slots.default,f=i(s,t,null);return{c(){c&&c.c(),n=m(),a&&a.c(),e=m(),f&&f.c(),r=v(window,"popstate",t.handlePopState)},l(t){f&&f.l(t)},m(t,r){c&&c.m(t,r),p(t,n,r),a&&a.m(t,r),p(t,e,r),f&&f.m(t,r),o=!0},p(t,o){o.ctxLoaded?c&&(c.d(1),c=null):c||((c=Q()).c(),c.m(n.parentNode,n)),o.failure&&!o.nofallback?a?a.p(t,o):((a=V(o)).c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),f&&f.p&&t.$$scope&&f.p(l(s,o,t,null),u(s,o,null))},i(t){o||(f&&f.i&&f.i(t),o=!0)},o(t){f&&f.o&&f.o(t),o=!1},d(t){c&&c.d(t),t&&d(n),a&&a.d(t),t&&d(e),f&&f.d(t),r()}}}const X=new function(){var t={},n=[];return{mount:function(t,e){"/"!==t&&n.push(t),e(),n.pop()},find:function(n,e){return J(n,t,!0===e?2:e||1)},add:function(e,o){return function(t,n,e,o){var r=G(t,e),c=n;return H(r,function(t,n){c=F.push(t,c,n,r),"/"!==t&&(c.info=c.info||Object.assign({},o))}),c.info=c.info||Object.assign({},o),r}(e,t,n.join(""),o)},rm:function(e){return function(t,n,e){var o=G(t,e),r=n,c=null,a=null;if(H(o,function(e){if(!r)return c=null,!0;if(a=e,!(c="/"===e?n["/"]:r).keys)throw new D(t,e);r=r[e]}),!c||!a)throw new D(t,a);delete c[a],"/"===a&&(delete c.info,delete c.route),-1!==c.keys.indexOf(a)&&(c.keys.splice(c.keys.indexOf(a),1),F.sort(c))}(e,t,n.join(""))}}};function Y(t){return"/#*"===t||"#*"===t?"#*_":"/*"===t||"*"===t?"/*_":t}function Z(n,e,o){let r,c,i,u,l,f=!1,{path:p="/",nofallback:d=null}=e;const $=function(n,e=t){let o;const r=[];function c(t){if(a(n,t)){if(n=t,!o)return;r.forEach(t=>t[1]()),r.forEach(t=>t[0](n))}}return{set:c,update:function(t){c(t(n))},subscribe:function(a,s=t){const i=[a,s];return r.push(i),1===r.length&&(o=e(c)||t),a(n),()=>{const t=r.indexOf(i);-1!==t&&r.splice(t,1),0===r.length&&o()}}}}({});function h(t){const n=t.reduce((t,n)=>(t[n.key]=Object.assign(t[n.key]||{},n.params),t),{});let e,o={};t.some(t=>{if("boolean"==typeof t.condition||"function"==typeof t.condition){if(!1===("function"==typeof t.condition?t.condition():t.condition)&&t.redirect)return K(t.redirect),e=!0,!0}if(t.key&&!o[t.key]){if(t.exact&&!t.matches)return!1;o[t.key]={...t,params:n[t.key]}}return!1}),e||(r=o,$.set(r))}function m(t,n){r[l]={failure:t,params:{_:n.substr(1)}},$.set(r)}function y(){const t=`/${location.href.split("/").slice(3).join("/")}`.replace(/\?[^#]*/,"").replace(/(?!^)\/#/,"#").replace("/#","#").replace(/\/$/,"");try{const n=function(t){const n=t.split("#")[0].split("/"),e=[],o=[];return n.forEach(n=>{const r=e.concat(`/${n}`).join("");n&&e.push(`/${n}`);try{const n=X.find(r);h(n),o.push(...n)}catch(n){m(n,t)}}),o}(t);t.includes("#")&&h(n.concat(X.find(t)))}catch(n){if(!l)return void o("failure",u=n);m(n,t)}}function v(){clearTimeout(c),o("t",c=setTimeout(y,100))}var g,k;s(n,$,t=>{o("$routeInfo",r=t)}),_(()=>{o("ctx",i=document.querySelector('[data-svero="ctx"]').parentElement),o("ctxLoaded",f=!0),v()}),g="__svero__",k={routeInfo:$,assignRoute:function(t,n,e){const r={key:t=t||Math.random().toString(36).substr(2),...e};let c;return X.mount(p,()=>{c=X.add(Y(n),r),o("fallback",l=r.fallback&&t||l)}),v(),[t,c]},unassignRoute:function(t){X.mount(p,()=>{X.rm(Y(t))}),v()}},x().$$.context.set(g,k);let{$$slots:b={},$$scope:w}=e;return n.$set=t=>{"path"in t&&o("path",p=t.path),"nofallback"in t&&o("nofallback",d=t.nofallback),"$$scope"in t&&o("$$scope",w=t.$$scope)},{failure:u,ctxLoaded:f,path:p,nofallback:d,routeInfo:$,handlePopState:y,$$slots:b,$$scope:w}}class tt extends z{constructor(t){var n;super(),document.getElementById("svelte-h7mijx-style")||((n=$("style")).id="svelte-h7mijx-style",n.textContent=".ctx.svelte-h7mijx{display:none}",f(document.head,n)),U(this,t,Z,W,a,["path","nofallback"])}}const nt=({router:t})=>({router:t}),et=({router:t})=>({router:t});function ot(t){var n,e,o,r,c=[ct,rt],a=[];function s(t){return t.component?0:1}return n=s(t),e=a[n]=c[n](t),{c(){e.c(),o=y()},m(t,e){a[n].m(t,e),p(t,o,e),r=!0},p(t,r){var i=n;(n=s(r))===i?a[n].p(t,r):(A(),q(()=>{a[i].d(1),a[i]=null}),e.o(1),P(),(e=a[n])||(e=a[n]=c[n](r)).c(),e.i(1),e.m(o.parentNode,o))},i(t){r||(e&&e.i(),r=!0)},o(t){e&&e.o(),r=!1},d(t){a[n].d(t),t&&d(o)}}}function rt(t){var n;const e=t.$$slots.default,o=i(e,t,et);return{c(){o&&o.c()},l(t){o&&o.l(t)},m(t,e){o&&o.m(t,e),n=!0},p(t,n){o&&o.p&&(t.$$scope||t.router)&&o.p(l(e,n,t,nt),u(e,n,et))},i(t){n||(o&&o.i&&o.i(t),n=!0)},o(t){o&&o.o&&o.o(t),n=!1},d(t){o&&o.d(t)}}}function ct(t){var n,e,o=t.component;function r(t){return{props:{router:t.router}}}if(o)var c=new o(r(t));return{c(){c&&c.$$.fragment.c(),n=y()},m(t,o){c&&B(c,t,o),p(t,n,o),e=!0},p(t,e){var a={};if(t.router&&(a.router=e.router),o!==(o=e.component)){if(c){A();const t=c;q(()=>{t.$destroy()}),t.$$.fragment.o(1),P()}o?((c=new o(r(e))).$$.fragment.c(),c.$$.fragment.i(1),B(c,n.parentNode,n)):c=null}else o&&c.$set(a)},i(t){e||(c&&c.$$.fragment.i(t),e=!0)},o(t){c&&c.$$.fragment.o(t),e=!1},d(t){t&&d(n),c&&c.$destroy(t)}}}function at(t){var n,e,o=t.router&&ot(t);return{c(){o&&o.c(),n=y()},m(t,r){o&&o.m(t,r),p(t,n,r),e=!0},p(t,e){e.router?o?(o.p(t,e),o.i(1)):((o=ot(e)).c(),o.i(1),o.m(n.parentNode,n)):o&&(A(),q(()=>{o.d(1),o=null}),o.o(1),P())},i(t){e||(o&&o.i(),e=!0)},o(t){o&&o.o(),e=!1},d(t){o&&o.d(t),t&&d(n)}}}function st(t,n,e){let o;const{assignRoute:r,unassignRoute:c,routeInfo:a}=function(t){return x().$$.context.get(t)}("__svero__");s(t,a,t=>{e("$routeInfo",o=t)});let i,{key:u=null,path:l="",exact:f,fallback:p,component:d,condition:$,redirect:h}=n;var m;_(()=>{[u,i]=r(u,l,{condition:$,redirect:h,fallback:p,exact:f}),e("key",u),e("fullpath",i)}),m=()=>{c(i)},x().$$.on_destroy.push(m);let y,{$$slots:v={},$$scope:g}=n;return t.$set=t=>{"key"in t&&e("key",u=t.key),"path"in t&&e("path",l=t.path),"exact"in t&&e("exact",f=t.exact),"fallback"in t&&e("fallback",p=t.fallback),"component"in t&&e("component",d=t.component),"condition"in t&&e("condition",$=t.condition),"redirect"in t&&e("redirect",h=t.redirect),"$$scope"in t&&e("$$scope",g=t.$$scope)},t.$$.update=(t={$routeInfo:1,key:1})=>{(t.$routeInfo||t.key)&&e("router",y=o[u])},{routeInfo:a,key:u,path:l,exact:f,fallback:p,component:d,condition:$,redirect:h,router:y,$$slots:v,$$scope:g}}class it extends z{constructor(t){super(),U(this,t,st,at,a,["key","path","exact","fallback","component","condition","redirect"])}}function ut(t){var n,e,o;const r=t.$$slots.default,c=i(r,t,null);return{c(){var e;n=$("a"),c&&c.c(),n.href=t.href,n.className=t.className,o=v(n,"click",(e=t.onClick,function(t){return t.preventDefault(),e.call(this,t)}))},l(t){c&&c.l(a_nodes)},m(t,o){p(t,n,o),c&&c.m(n,null),e=!0},p(t,o){c&&c.p&&t.$$scope&&c.p(l(r,o,t,null),u(r,o,null)),e&&!t.href||(n.href=o.href),e&&!t.className||(n.className=o.className)},i(t){e||(c&&c.i&&c.i(t),e=!0)},o(t){c&&c.o&&c.o(t),e=!1},d(t){t&&d(n),c&&c.d(t),o()}}}function lt(t,n,e){let{class:o="",href:r="/",className:c=""}=n;_(()=>{e("className",c=c||o)});const a=w();let{$$slots:s={},$$scope:i}=n;return t.$set=t=>{"class"in t&&e("cssClass",o=t.class),"href"in t&&e("href",r=t.href),"className"in t&&e("className",c=t.className),"$$scope"in t&&e("$$scope",i=t.$$scope)},{cssClass:o,href:r,className:c,onClick:function(t){let n=r;"/"!==n.charAt()&&(n=window.location.pathname+n),K(n),a("click",t)},$$slots:s,$$scope:i}}class ft extends z{constructor(t){super(),U(this,t,lt,ut,a,["class","href","className"])}}export{ft as Link,it as Route,tt as Router,K as navigateTo};
